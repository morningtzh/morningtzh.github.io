<?xml version="1.0" encoding="utf-8" standalone="yes" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>ffmpeg | ç‘Ÿç‘Ÿå’Œä½ è¯´æ—©å®‰</title>
    <link>https://blog.morningtzh.com/tags/ffmpeg.html</link>
      <atom:link href="https://blog.morningtzh.com/tags/ffmpeg/index.xml" rel="self" type="application/rss+xml" />
    <description>ffmpeg</description>
    <generator>Source Themes Academic (https://sourcethemes.com/academic/)</generator><language>zh-Hans</language><copyright>Â©MorningTZH</copyright><lastBuildDate>Sat, 21 Mar 2020 09:49:46 +0800</lastBuildDate>
    <image>
      <url>https://blog.morningtzh.com/images/logo_hu56606b72eae1823e5af44004a0b07113_957806_300x300_fit_lanczos_2.png</url>
      <title>ffmpeg</title>
      <link>https://blog.morningtzh.com/tags/ffmpeg.html</link>
    </image>
    
    <item>
      <title>Bç«™äº‘å…»é±¼--è´«ç©·å®šåˆ¶</title>
      <link>https://blog.morningtzh.com/post/b%E7%AB%99%E4%BA%91%E5%85%BB%E9%B1%BC-%E8%B4%AB%E7%A9%B7%E5%AE%9A%E5%88%B6.html</link>
      <pubDate>Sat, 21 Mar 2020 09:49:46 +0800</pubDate>
      <guid>https://blog.morningtzh.com/post/b%E7%AB%99%E4%BA%91%E5%85%BB%E9%B1%BC-%E8%B4%AB%E7%A9%B7%E5%AE%9A%E5%88%B6.html</guid>
      <description>&lt;h1 id=&#34;bç«™äº‘å…»é±¼--è´«ç©·å®šåˆ¶&#34;&gt;Bç«™äº‘å…»é±¼&amp;ndash;è´«ç©·å®šåˆ¶&lt;/h1&gt;
&lt;h2&gt;ç›®å½•&lt;/h2&gt;
&lt;nav id=&#34;TableOfContents&#34;&gt;
  &lt;ul&gt;
    &lt;li&gt;&lt;a href=&#34;#1-æˆ‘ä¹°äº†ä¸€ä¸ªç¼¸&#34;&gt;1. æˆ‘ä¹°äº†ä¸€ä¸ªç¼¸&lt;/a&gt;&lt;/li&gt;
    &lt;li&gt;&lt;a href=&#34;#2-ç›´æ’­æ–¹æ¡ˆæ¯”è¾ƒåŠé™åˆ¶æ¡ä»¶&#34;&gt;2. ç›´æ’­æ–¹æ¡ˆæ¯”è¾ƒåŠé™åˆ¶æ¡ä»¶&lt;/a&gt;
      &lt;ul&gt;
        &lt;li&gt;&lt;a href=&#34;#21-æ–¹æ¡ˆæ¯”è¾ƒåŠåœºæ™¯é™åˆ¶&#34;&gt;2.1 æ–¹æ¡ˆæ¯”è¾ƒåŠåœºæ™¯é™åˆ¶&lt;/a&gt;&lt;/li&gt;
        &lt;li&gt;&lt;a href=&#34;#22-ç¡¬ä»¶é™åˆ¶æ¡ä»¶åˆ†æ&#34;&gt;2.2 ç¡¬ä»¶é™åˆ¶æ¡ä»¶åˆ†æ&lt;/a&gt;&lt;/li&gt;
      &lt;/ul&gt;
    &lt;/li&gt;
    &lt;li&gt;&lt;a href=&#34;#3-æ•´ä½“æ–¹æ¡ˆè®¾è®¡&#34;&gt;3. æ•´ä½“æ–¹æ¡ˆè®¾è®¡&lt;/a&gt;
      &lt;ul&gt;
        &lt;li&gt;&lt;a href=&#34;#31-æ•´ä½“æ–¹æ¡ˆ&#34;&gt;3.1 æ•´ä½“æ–¹æ¡ˆ&lt;/a&gt;&lt;/li&gt;
        &lt;li&gt;&lt;a href=&#34;#32-è§†é¢‘æº&#34;&gt;3.2 è§†é¢‘æº&lt;/a&gt;&lt;/li&gt;
        &lt;li&gt;&lt;a href=&#34;#33-è§†é¢‘ç›®çš„åœ°&#34;&gt;3.3 è§†é¢‘ç›®çš„åœ°&lt;/a&gt;&lt;/li&gt;
      &lt;/ul&gt;
    &lt;/li&gt;
    &lt;li&gt;&lt;a href=&#34;#4-èƒŒæ™¯çŸ¥è¯†&#34;&gt;4. èƒŒæ™¯çŸ¥è¯†&lt;/a&gt;
      &lt;ul&gt;
        &lt;li&gt;&lt;a href=&#34;#41-æµåª’ä½“&#34;&gt;4.1 æµåª’ä½“&lt;/a&gt;&lt;/li&gt;
        &lt;li&gt;&lt;a href=&#34;#42-ffmpeg&#34;&gt;4.2 ffmpeg&lt;/a&gt;&lt;/li&gt;
      &lt;/ul&gt;
    &lt;/li&gt;
    &lt;li&gt;&lt;a href=&#34;#5-åŠŸèƒ½è®¾è®¡&#34;&gt;5. åŠŸèƒ½è®¾è®¡&lt;/a&gt;
      &lt;ul&gt;
        &lt;li&gt;&lt;a href=&#34;#51-è§†é¢‘åˆ—è¡¨&#34;&gt;5.1 è§†é¢‘åˆ—è¡¨&lt;/a&gt;&lt;/li&gt;
        &lt;li&gt;&lt;a href=&#34;#52-éŸ³ä¹æ’­æ”¾åˆ—è¡¨&#34;&gt;5.2 éŸ³ä¹æ’­æ”¾åˆ—è¡¨&lt;/a&gt;&lt;/li&gt;
        &lt;li&gt;&lt;a href=&#34;#53-ffmpeg-å‘½ä»¤ç”Ÿæˆ&#34;&gt;5.3 ffmpeg å‘½ä»¤ç”Ÿæˆ&lt;/a&gt;&lt;/li&gt;
        &lt;li&gt;&lt;a href=&#34;#54-æ‰§è¡Œ-ffmpeg-å‘½ä»¤&#34;&gt;5.4 æ‰§è¡Œ ffmpeg å‘½ä»¤&lt;/a&gt;&lt;/li&gt;
        &lt;li&gt;&lt;a href=&#34;#55-åŠå¤œå›æ”¾æœºåˆ¶&#34;&gt;5.5 åŠå¤œå›æ”¾æœºåˆ¶&lt;/a&gt;&lt;/li&gt;
        &lt;li&gt;&lt;a href=&#34;#56-ç›´æ’­é€€å‡ºæœºåˆ¶&#34;&gt;5.6 ç›´æ’­é€€å‡ºæœºåˆ¶&lt;/a&gt;&lt;/li&gt;
        &lt;li&gt;&lt;a href=&#34;#57-æ·±å¤œç›´æ’­æš‚åœäº‹ä»¶&#34;&gt;5.7 æ·±å¤œç›´æ’­æš‚åœäº‹ä»¶&lt;/a&gt;&lt;/li&gt;
        &lt;li&gt;&lt;a href=&#34;#6-å­˜åœ¨çš„é—®é¢˜&#34;&gt;6. å­˜åœ¨çš„é—®é¢˜&lt;/a&gt;&lt;/li&gt;
      &lt;/ul&gt;
    &lt;/li&gt;
    &lt;li&gt;&lt;a href=&#34;#7-å¯æ›¿ä»£æ–¹æ¡ˆ&#34;&gt;7. å¯æ›¿ä»£æ–¹æ¡ˆ&lt;/a&gt;
      &lt;ul&gt;
        &lt;li&gt;&lt;a href=&#34;#72-ç½‘ç»œæ‘„åƒå¤´æ”¯æŒ-rtsp&#34;&gt;7.2 ç½‘ç»œæ‘„åƒå¤´æ”¯æŒ RTSP&lt;/a&gt;&lt;/li&gt;
        &lt;li&gt;&lt;a href=&#34;#73-æ‰‹æœº&#34;&gt;7.3 æ‰‹æœº&lt;/a&gt;&lt;/li&gt;
      &lt;/ul&gt;
    &lt;/li&gt;
    &lt;li&gt;&lt;a href=&#34;#8-å…³é”®å†³å®šå› ç´ &#34;&gt;8. å…³é”®å†³å®šå› ç´ &lt;/a&gt;&lt;/li&gt;
  &lt;/ul&gt;
&lt;/nav&gt;
&lt;p&gt;[TOC]&lt;/p&gt;
&lt;h2 id=&#34;1-æˆ‘ä¹°äº†ä¸€ä¸ªç¼¸&#34;&gt;1. æˆ‘ä¹°äº†ä¸€ä¸ªç¼¸&lt;/h2&gt;
&lt;p&gt;è¿‡å¹´å‰æ•£æ­¥ï¼Œæ­£å¥½è·¯è¿‡èŠ±é¸Ÿå¸‚åœºã€‚æœ¬æ¥æ‰“ç®—ä¹°äº›èŠ±è‰ï¼Œèµ°ç€èµ°ç€å°±å˜çœ‹é±¼äº†ã€‚å¿ƒè¡€æ¥æ½®ï¼Œèµ¶ç´§ç ”ç©¶äº†ä¸‹å…»é±¼å…¥é—¨çŸ¥è¯†ï¼Œå¹¶å¼€äº†ä¸ªä¸€ä¸ªè‰ç¼¸ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;B%E7%AB%99%E4%BA%91%E5%85%BB%E9%B1%BC--%E8%B4%AB%E7%A9%B7%E5%AE%9A%E5%88%B6.assets/IMG_3639.JPG&#34; alt=&#34;æ–°æ‰‹ç¼¸&#34;&gt;&lt;/p&gt;
&lt;p&gt;æ–°æ‰‹çš„ç¼¸æ€»æ˜¯è¿™ä¹ˆæ¯ç‡¥ã€‚&lt;/p&gt;
&lt;p&gt;ç¼¸è¿˜åœ¨è·¯ä¸Šçš„æ—¶å€™æˆ‘å°±çªç„¶æƒ³å¼€ä¸ªç›´æ’­ï¼Œè¿™ä¹ˆæœ‰è¶£çš„äº‹æƒ…åº”è¯¥å’Œå¤§å®¶åˆ†äº«ã€‚&lt;del&gt;é¡ºä¾¿èµšç‚¹é¥²æ–™é’±ï¼Œè¯´ä¸å®šè¿˜èƒ½é ç›´æ’­å½“ä¸Š CEO è¿å¨¶ç™½å¯Œç¾ã€‚&lt;/del&gt;&lt;/p&gt;
&lt;p&gt;å¦‚æ­¤ä¸€æ¥åŸå§‹éœ€æ±‚å°±å®šä¸‹äº†ï¼Œéœ€è¦åšä¸€ä¸ª 24H é±¼ç¼¸ç›´æ’­æ–¹æ¡ˆå‡ºæ¥ã€‚&lt;/p&gt;
&lt;h2 id=&#34;2-ç›´æ’­æ–¹æ¡ˆæ¯”è¾ƒåŠé™åˆ¶æ¡ä»¶&#34;&gt;2. ç›´æ’­æ–¹æ¡ˆæ¯”è¾ƒåŠé™åˆ¶æ¡ä»¶&lt;/h2&gt;
&lt;h3 id=&#34;21-æ–¹æ¡ˆæ¯”è¾ƒåŠåœºæ™¯é™åˆ¶&#34;&gt;2.1 æ–¹æ¡ˆæ¯”è¾ƒåŠåœºæ™¯é™åˆ¶&lt;/h3&gt;
&lt;p&gt;é¡¹ç›®æ˜¯ä¸ºåˆ›é€ ç‹¬ç‰¹äº§å“ã€æœåŠ¡æˆ–æˆæœè€Œè¿›è¡Œçš„ä¸´æ—¶æ€§å·¥ä½œã€‚&lt;sup id=&#34;fnref:1&#34;&gt;&lt;a href=&#34;#fn:1&#34; class=&#34;footnote-ref&#34; role=&#34;doc-noteref&#34;&gt;1&lt;/a&gt;&lt;/sup&gt; è¿™ä¸ªç›´æ’­éœ€æ±‚ä¸çœŸäºº UP ä¸»çš„ç›´æ’­ç”±äºå·¥ä½œæ–¹å¼ä¸åŒï¼Œå› æ­¤ä¼šå¯¼è‡´ç¯å¢ƒå·®å¼‚è¾ƒå¤§ã€‚&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;ä¸€èˆ¬ç›´æ’­æ—¶ï¼Œç›´æ’­ä¸»ä½“ä¸»æ’­å”¯ä¸€å—ä¼—ä¸ºç”¨æˆ·ã€‚æ— è®ºæ˜¯åœ¨çº¿èŠå¤©ã€æ¸¸æˆè¿˜æ˜¯äº‘ç”»ç”»ï¼Œç›´æ’­çš„ä¸»æœºå³ä¸ºå·¥ä½œçš„ä¸»æœºï¼Œåœ¨ä¸€å®šæ—¶é—´æ®µå†…ï¼Œä¸»æ’­ä¼šé¢å¯¹ä¸»æœºè¿›è¡Œå·¥ä½œï¼Œå¹¶é€šè¿‡è¿™å°ä¸»æœºç›´æ’­å‡ºå»ï¼Œå·¥ä½œå†…å®¹å¯ä»¥è¯´å°±æ˜¯ç›´æ’­å†…å®¹ï¼›&lt;/li&gt;
&lt;li&gt;æœ¬æ¬¡ç›´æ’­æ—¶ï¼Œç›´æ’­ä¸»ä½“é±¼ç¼¸æœ‰ä¸¤ä¸ªå—ä¼—ï¼Œä¸€ä¸ªæ˜¯ç›´æ’­ç”¨æˆ·ï¼Œå¦ä¸€ä¸ªæ˜¯ç°åœºè§‚ä¼—&lt;sup&gt;æˆ‘æˆ‘æˆ‘ï¼ï¼ï¼&lt;/sup&gt;ã€‚å¯¹é±¼ç¼¸è¿›è¡Œ24H ç›´æ’­æ—¶ä¸èƒ½è®©ä¸»æœºåœ¨ç©ºé—´ä¸­æ˜æ˜¾å¯è§ï¼Œè¿™ä¼šé˜»ç¢ç°åœºè§‚ä¼—è§†çº¿ï¼›åŒæ—¶å½“æˆ‘éœ€è¦åœ¨ä¸€å°ä¸»æœºä¸Šåšç›´æ’­æ— å…³å·¥ä½œï¼Œç”šè‡³å¼€å…³æœºæ—¶ä¸èƒ½å½±å“ç›´æ’­è¿›è¡Œã€‚å› æ­¤éœ€è¦åœ¨éšè”½è§’è½æ”¾ä¸€ä¸ªç‹¬ç«‹ä¸»æœºè¿›è¡Œç›´æ’­ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Usecase:&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-mermaid&#34;&gt;graph LR
	subgraph å·¥ä½œå®¤
		ä¸»æ’­ --do--&amp;gt; å·¥ä½œProcess
		ä¸»æ’­ --è¢«æ‘„--&amp;gt;ç›´æ’­Process
		subgraph ä¸»æœº
			å·¥ä½œProcess --è¢«æ‘„--&amp;gt; ç›´æ’­Process
		end
	end
	ç›´æ’­Process --æ¨æµ--&amp;gt; Bç«™
 
&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code class=&#34;language-mermaid&#34;&gt;graph LR
	subgraph Home
		é±¼ç¼¸ --è¢«æ‘„--&amp;gt; ç›´æ’­ä¸»æœº
		é±¼ç¼¸ --è§‚èµ--&amp;gt; æˆ‘
		æˆ‘--å·¥ä½œ--&amp;gt;å·¥ä½œä¸»æœº
	end
	ç›´æ’­ä¸»æœº --æ¨æµ--&amp;gt; Bç«™
 
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;ç»“åˆå®¶é‡Œè®¾å¤‡å…·ä½“å·®å¼‚å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;&lt;/th&gt;
&lt;th&gt;ä¸€èˆ¬ UP ä¸»&lt;/th&gt;
&lt;th&gt;æœ¬æ¬¡ç›´æ’­éœ€æ±‚&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;æ—¶é—´&lt;/td&gt;
&lt;td&gt;é™æ—¶ç›´æ’­&lt;/td&gt;
&lt;td&gt;24H ç›´æ’­&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;ä¸»æœº&lt;/td&gt;
&lt;td&gt;æ— éœ€ç‹¬ç«‹ä¸»æœº&lt;/td&gt;
&lt;td&gt;éœ€è¦ç‹¬ç«‹ä¸»æœº&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;ä¸»æœºå¯è§&lt;/td&gt;
&lt;td&gt;éœ€æ“ä½œï¼Œå¯è§&lt;/td&gt;
&lt;td&gt;æ— éœ€æ“ä½œï¼Œä¸å¯è§&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;æ“ä½œç³»ç»Ÿ&lt;/td&gt;
&lt;td&gt;Windows&lt;/td&gt;
&lt;td&gt;Linux&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;æ‘„åƒå¤´&lt;/td&gt;
&lt;td&gt;USB æ‘„åƒå¤´&lt;/td&gt;
&lt;td&gt;ç½‘ç»œæ‘„åƒå¤´&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;h3 id=&#34;22-ç¡¬ä»¶é™åˆ¶æ¡ä»¶åˆ†æ&#34;&gt;2.2 ç¡¬ä»¶é™åˆ¶æ¡ä»¶åˆ†æ&lt;/h3&gt;
&lt;p&gt;ç”±äºç©·ï¼Œæœ¬æ¬¡æ–¹æ¡ˆåªèƒ½åœ¨å®¶é‡Œç°æœ‰è®¾å¤‡åŸºç¡€ä¸Šè¿›è¡Œè®¾è®¡ã€‚&lt;/p&gt;
&lt;p&gt;ç›®å‰å¯ç”¨è®¾å¤‡ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;&lt;strong&gt;èœ—ç‰›æ˜Ÿé™…&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;AreYouOK æ™ºèƒ½æ‘„åƒæœº&lt;/strong&gt;ï¼ˆç¬¬ä¸‰ä»£ï¼‰&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Raspberry Pi Zero W&lt;/strong&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;strong&gt;èœ—ç‰›æ˜Ÿé™…&lt;/strong&gt;æ˜¯å’¸é±¼ä¸Š 300 å—ä¹°æ¥çš„çŸ¿éš¾æœºï¼Œ4G å†…å­˜ï¼Œæ­è½½ J1900 CPUï¼Œå››ç›˜ä½æœºç®±ï¼ŒçœŸé¦™ ğŸ˜™ã€‚è¢«æˆ‘è£…ä¸Šäº† manjaro åšNAS ç”¨ï¼Œç”¨æ¥åšä¸‹è½½ã€æ—¶é—´èƒ¶å›Šã€&lt;del&gt;ç‰©è”ç½‘&lt;/del&gt;ã€æ•°æ®å¯è§†åŒ–ç­‰åŠŸèƒ½ã€‚èœ—ç‰›æ˜Ÿé™…è¢«æˆ‘è—åœ¨é‹æŸœé‡Œï¼Œæ»¡è¶³äº†æœ¬æ¬¡ç›´æ’­æ–¹æ¡ˆä¸»æœºéšè”½çš„éœ€æ±‚ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;B%E7%AB%99%E4%BA%91%E5%85%BB%E9%B1%BC--%E8%B4%AB%E7%A9%B7%E5%AE%9A%E5%88%B6.assets/v2-b64e4e22b1ef466a7443965f5a150826_b.jpg&#34; alt=&#34;èœ—ç‰›æ˜Ÿé™…&#34;&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;AreYouOK æ™ºèƒ½æ‘„åƒæœº&lt;/strong&gt;ï¼ˆç¬¬ä¸‰ä»£ï¼‰æ˜¯åŠå¹´å‰ä¹°çš„ï¼Œä¹Ÿæ˜¯åœ¨ç ”ç©¶ç›´æ’­ç³»ç»Ÿçš„æ—¶å€™æ‰äº†è§£äº†ä»–çš„ç‰ˆæœ¬ã€‚&lt;strong&gt;AreYouOK æ™ºèƒ½æ‘„åƒæœº&lt;/strong&gt;ç¬¬äºŒä»£æ˜¯ç»å¯¹çš„é¦™ï¼Œå¯ä»¥ä¿®æ”¹å›ºä»¶å¢åŠ  rtsp åŠŸèƒ½ï¼Œç¬¬ä¸‰ä»£å°±ä¸è¡Œäº†ï¼Œè¯•äº†å¾ˆé•¿æ—¶é—´éƒ½æ²¡æ³•æ‰“å¼€ rtspï¼ŒåŒæ—¶ç¬¬ä¸‰ä»£åœ¨å›¾åƒè´¨é‡ä¸Šä¹Ÿæ¯”ç¬¬äºŒä»£ä¸‹é™äº†å¾ˆå¤šã€‚ç”±äºä¸èƒ½ç”¨ rtspï¼Œæˆ‘ä¼šåœ¨ä¸‹æ–‡è®²è§£åˆ«çš„æ–¹æ³•ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Raspberry Pi Zero W&lt;/strong&gt;ï¼Œåšå¤‡é€‰æ–¹æ¡ˆï¼Œè¿™æ˜¯æˆ‘ä¹°æ¥é»‘ USB å’Œ wifiç©çš„è®¾å¤‡ï¼Œä»–çš„ä¼˜ç‚¹åœ¨äºè“ç‰™ wifi éƒ½åœ¨ä¸€ç‰‡ä¸Šé›†æˆäº†ï¼Œä½“ç§¯å°ï¼Œå¯ä»¥å˜æˆ USB æ£’ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;B%E7%AB%99%E4%BA%91%E5%85%BB%E9%B1%BC--%E8%B4%AB%E7%A9%B7%E5%AE%9A%E5%88%B6.assets/91d73c36c55cc0e4cea3ba9fe128d992382b7a55_pi-zero-w-1-1620x1080.jpg&#34; alt=&#34;Raspberry Pi Zero W&#34;&gt;&lt;/p&gt;
&lt;p&gt;ä¸‹å›¾æ˜¯æˆ‘è‡ªå·±çš„**Raspberry Pi Zero W*ï¼ŒåŠ ä¸Šäº†E-ink å±å¹•å’Œ USB è½¬æ¢å¤´ã€‚ç©æ³•éå¸¸å¤šï¼Œæ¯”å¦‚æ¨¡æ‹Ÿæˆä¸¤ä¸ªè®¾å¤‡ï¼Œä¸€ä¸ªä¼˜ç›˜ä¸€ä¸ªé”®ç›˜ï¼Œå°±å¯ä»¥åœ¨æ’å…¥PC åé€šè¿‡è“ç‰™æˆ– wifi è¾“å…¥ç›¸åº”æŒ‡ä»¤äº†ï¼›ä¹Ÿå¯ä»¥é€šä¸Šç”µè¿ä¸Š wifiï¼Œåšä¸­é—´äººæ”»å‡»ï¼›å…¶ä»–çš„ç”±äºä½“ç§¯å°ï¼Œä½œä¸ºåµŒå…¥å¼ä¸»æ§ä¹Ÿæ˜¯ä¸é”™çš„é€‰æ‹©ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;B%E7%AB%99%E4%BA%91%E5%85%BB%E9%B1%BC--%E8%B4%AB%E7%A9%B7%E5%AE%9A%E5%88%B6.assets/IMG_3750.jpg&#34; alt=&#34;&#34;&gt;&lt;/p&gt;
&lt;h2 id=&#34;3-æ•´ä½“æ–¹æ¡ˆè®¾è®¡&#34;&gt;3. æ•´ä½“æ–¹æ¡ˆè®¾è®¡&lt;/h2&gt;
&lt;h3 id=&#34;31-æ•´ä½“æ–¹æ¡ˆ&#34;&gt;3.1 æ•´ä½“æ–¹æ¡ˆ&lt;/h3&gt;
&lt;p&gt;æ•´ä½“æ–¹æ¡ˆé‡‡ç”¨ç½‘ç»œæ‘„åƒæœº+NAS æ¨æµçš„å½¢å¼å±•å¼€ã€‚OBS è·å– rtsp æµåï¼Œå†é€šè¿‡ rtmp ä¸¢åˆ° B ç«™å³å¯ï¼Œè½»æ¾åŠ æ„‰å¿«ã€‚&lt;/p&gt;
&lt;p&gt;ä¸ï¼Œäº‹å®å¹¶ä¸æ˜¯è¿™æ ·çš„ã€‚ç”Ÿæ´»å¾€å¾€å¹¶æ²¡æœ‰è¿™ä¹ˆå®¹æ˜“ğŸ˜¢ ï¼Œå¾ˆå®¹æ˜“æ¥å—ç°å®çš„åŠæ‰“ã€‚ä½†æˆ‘ä»¬è¿˜æ˜¯å…ˆå°†æˆ‘ä»¬çš„éƒ¨ç½²å›¾ç”»å‡ºæ¥ã€‚&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-mermaid&#34;&gt;graph LR
	subgraph é‹æŸœ
		NAS
	end
	subgraph å®¢å…
		é±¼ç¼¸ -- æ‹æ‘„ --&amp;gt; æ‘„åƒæœº
		æ‘„åƒæœº--ä¼ è¾“è§†é¢‘--&amp;gt;NAS
	end
	NAS --æ¨æµ--&amp;gt; Bç«™
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;32-è§†é¢‘æº&#34;&gt;3.2 è§†é¢‘æº&lt;/h3&gt;
&lt;p&gt;è§†é¢‘æ¥æºç”±äºè´«ç©·ï¼Œé¦–å…ˆé€‰æ‹©ç°æœ‰çš„&lt;strong&gt;AreYouOK æ™ºèƒ½æ‘„åƒæœº&lt;/strong&gt;ã€‚ä»–æ˜¯æ²¡æœ‰ rtspã€onvif çš„è¾£é¸¡æ‘„åƒæœºï¼Œä½†æˆ‘ä»¬åœ¨ App è®¾ç½®é‡Œé¢å¯ä»¥çœ‹åˆ°å®ƒæ”¯æŒ NASï¼Œå¯ä»¥å®æ—¶å°†è§†é¢‘ä¿å­˜åˆ° NAS ä¸Šã€‚æˆ‘æœ¬ä»¥ä¸ºè¿™æ˜¯ä¸€ä¸ªé»‘ç§‘æŠ€ï¼Œä½†ä¸‡ä¸‡æ²¡æƒ³åˆ°&amp;hellip;&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;B%E7%AB%99%E4%BA%91%E5%85%BB%E9%B1%BC--%E8%B4%AB%E7%A9%B7%E5%AE%9A%E5%88%B6.assets/image-20200322110409969.png&#34; alt=&#34;image-20200322110409969&#34;&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;B%E7%AB%99%E4%BA%91%E5%85%BB%E9%B1%BC--%E8%B4%AB%E7%A9%B7%E5%AE%9A%E5%88%B6.assets/96a7-ikyziqx7363878.jpg&#34; alt=&#34;è€çˆ·çˆ·åœ°é“çœ‹æ‰‹æœº&#34;&gt;&lt;/p&gt;
&lt;p&gt;ä¸€å®šæ˜¯æˆ‘æ‰“å¼€æ–¹å¼é”™è¯¯ï¼Œæˆ‘æ¢ä¸ªæ–¹å¼é‡æ–°æ‰“å¼€ä¸€ä¸‹ï¼š&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;âœ  xiaomi_camera_videos tree
.
â”œâ”€â”€ 04cf8cfe7133
â”‚Â Â  â”œâ”€â”€ 2020031908
â”‚Â Â  â”‚Â Â  â”œâ”€â”€ 16M12S_1584576972.mp4
â”‚Â Â  â”‚Â Â  â”œâ”€â”€ 17M10S_1584577030.mp4
â”‚Â Â  â”‚Â Â  â”œâ”€â”€ 18M10S_1584577090.mp4
â”‚Â Â  â”‚Â Â  â”œâ”€â”€ 19M10S_1584577150.mp4
â”‚Â Â  â”‚Â Â  â”œâ”€â”€ 20M10S_1584577210.mp4
â”‚Â Â  â”‚Â Â  â”œâ”€â”€ 21M10S_1584577270.mp4
â”‚Â Â  â”‚Â Â  â”œâ”€â”€ 22M10S_1584577330.mp4
...
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;å® æœ¬é¡¹ç›®ç”±äºä¸å¯æŠ—åŠ›ç»ˆæ­¢ã€‚ã€‚ã€‚&lt;/p&gt;
&lt;p&gt;ã€‚&lt;/p&gt;
&lt;p&gt;ã€‚&lt;/p&gt;
&lt;p&gt;ã€‚&lt;/p&gt;
&lt;p&gt;ã€‚&lt;/p&gt;
&lt;p&gt;ä¸ æˆ‘å½“ç„¶æ˜¯ä¸ä¼šæ”¾å¼ƒçš„ï¼ä¸å°±æ˜¯åˆ†é’Ÿçº§è§†é¢‘æ–‡ä»¶ä¹ˆã€‚ä¸€å®šèƒ½è§£å†³ï¼å¦‚æœä¸€äº›è¿™ä¹ˆé¡ºåˆ©ï¼Œå°±æ²¡å¿…è¦åšè„šæœ¬äº†ã€‚&lt;/p&gt;
&lt;h4 id=&#34;321-è§†é¢‘æ’­æ”¾obs&#34;&gt;3.2.1 è§†é¢‘æ’­æ”¾+OBS&lt;/h4&gt;
&lt;p&gt;é€šå¸¸ä¸»æ’­åœ¨ç›´æ’­çš„æ—¶å€™ä¼šç”¨åˆ° OBS&lt;sup id=&#34;fnref:2&#34;&gt;&lt;a href=&#34;#fn:2&#34; class=&#34;footnote-ref&#34; role=&#34;doc-noteref&#34;&gt;2&lt;/a&gt;&lt;/sup&gt;ï¼Œä¸€æ¬¾å¼€æºç›´æ’­è½¯ä»¶ï¼ŒB ç«™ç›´æ’­å§¬å°±æ˜¯åŸºäº OBS åˆ¶ä½œçš„ã€‚å®ƒæ”¯æŒ macOSã€linuxå’Œwindowsä¸‰ä¸ªå¹³å°ï¼Œå¯ä»¥åœ¨å•ä¸ªçª—å£æ·»åŠ ä¸åŒçš„æºåˆæˆä¸€ä¸ªç”»é¢ï¼ŒåŒæ—¶æ”¯æŒå¤šåœºæ™¯åˆ‡æ¢ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;file:///Users/morningtzh/workplace/SeseSayHi/content/post/B%E7%AB%99%E4%BA%91%E5%85%BB%E9%B1%BC--%E8%B4%AB%E7%A9%B7%E5%AE%9A%E5%88%B6.assets/OBSDemoApp2321.png?lastModify=1584848414&#34; alt=&#34;OBS&#34;&gt;&lt;/p&gt;
&lt;p&gt;OBS åœ¨ä¸åŒåœºæ™¯çš„ç›´æ’­ä¸­éƒ½èƒ½å‘æŒ¥å¾ˆå¤§ä½œç”¨ã€‚ç”»é¢æ¥æºæ”¯æŒéå¸¸å¤šï¼Œrtspã€çª—å£æ•è·ã€æ¡Œé¢æ•è·ã€å›¾åƒã€è§†é¢‘ã€æµè§ˆå™¨ã€éŸ³é¢‘ã€æ–‡å­—ç­‰ç­‰ã€‚æœ‰å…´è¶£çš„å¯ä»¥ä¸‹è½½ä¸€ä¸ªï¼Œå¹¶å‚è€ƒ 
&lt;a href=&#34;https://obsproject.com/wiki/Sources-Guide&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;WiKI&lt;/a&gt;ã€‚&lt;/p&gt;
&lt;p&gt;OBS æ˜¯æ— æ³•æ’­æ”¾æ–‡ä»¶å¤¹çš„ï¼Œå› æ­¤è€ƒè™‘é‡‡ç”¨è§†é¢‘æ’­æ”¾å™¨+OBS çš„çª—å£æ•è·ï¼Œè·å–è§†é¢‘æµã€‚&lt;/p&gt;
&lt;p&gt;æœ€ç»ˆç”±äº CPU 100% Good Gameã€‚&lt;/p&gt;
&lt;p&gt;åŒæ—¶ä¹Ÿæ„è¯†åˆ°äº†èœ—ç‰›æ˜Ÿé™… J1900 CPU åœ¨è§†é¢‘ç¼–è§£ç ä¸Šçš„æ— åŠ›ï¼Œæ— æ³•ä½¿ç”¨ OBS è¿™æ ·å¤æ‚çš„ç›´æ’­è½¯ä»¶ã€‚&lt;/p&gt;
&lt;h4 id=&#34;322-ffmpeg-åˆæˆè§†é¢‘&#34;&gt;3.2.2 ffmpeg åˆæˆè§†é¢‘&lt;/h4&gt;
&lt;p&gt;ffmpeg æ˜¯ä¸€ä¸ªéå¸¸æ£’çš„è½¯ä»¶ï¼Œä»–å¯ä»¥å°†æ’­æ”¾åˆ—è¡¨ä½œä¸ºInput ä½¿ç”¨ã€‚å› æ­¤æœ¬æ–¹æ¡ˆæœ€ç»ˆä½¿ç”¨äº†ffmpeg ä½œä¸ºè§†é¢‘åˆæˆåŠæ¨æµå·¥å…·ã€‚&lt;/p&gt;
&lt;h3 id=&#34;33-è§†é¢‘ç›®çš„åœ°&#34;&gt;3.3 è§†é¢‘ç›®çš„åœ°&lt;/h3&gt;
&lt;p&gt;æˆ‘ä»¬é€šè¿‡ ffmpeg å¤„ç†è§†é¢‘æºï¼Œè‡ªç„¶ä¹Ÿé€šè¿‡ ffmpeg æ¥æ¨æµã€‚&lt;/p&gt;
&lt;h2 id=&#34;4-èƒŒæ™¯çŸ¥è¯†&#34;&gt;4. èƒŒæ™¯çŸ¥è¯†&lt;/h2&gt;
&lt;p&gt;ä¸ºäº†åç»­æ›´å¥½ç†è§£æ•´å¥—æ–¹æ¡ˆï¼Œè¿™è¾¹å°†å¯¹ä¸€äº›èƒŒæ™¯çŸ¥è¯†åšä¸€äº›ç®€å•çš„ä»‹ç»&lt;/p&gt;
&lt;h3 id=&#34;41-æµåª’ä½“&#34;&gt;4.1 æµåª’ä½“&lt;/h3&gt;
&lt;p&gt;å¯¹äºåª’ä½“ç¼–ç ã€å°è£…æ ¼å¼å’Œä¼ è¾“åè®®æœ¬èº«å…¶å®å’Œæˆ‘ä»¬è¦åšçš„æ–¹æ¡ˆå…³è”è¾ƒå°ï¼Œä»…åœ¨å®šä½ä¸€äº›é—®é¢˜æ—¶å¯èƒ½ä¼šç”¨åˆ°æ¯”è¾ƒæ·±å…¥çš„çŸ¥è¯†ã€‚&lt;/p&gt;
&lt;p&gt;åœ¨è¿™é‡Œæˆ‘ä»¬åªéœ€è¦ç®€å•çš„åšäº›äº†è§£ã€‚&lt;/p&gt;
&lt;h4 id=&#34;411-è§†é¢‘ç¼–ç -h264&#34;&gt;4.1.1 è§†é¢‘ç¼–ç  H.264&lt;/h4&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;H.264&lt;/strong&gt;ï¼Œåˆç§°ä¸º&lt;strong&gt;MPEG-4ç¬¬10éƒ¨åˆ†ï¼Œé«˜çº§è§†é¢‘ç¼–ç &lt;/strong&gt;ï¼ˆè‹±è¯­ï¼šMPEG-4 Part 10, Advanced Video Codingï¼Œç¼©å†™ä¸ºMPEG-4 AVCï¼‰æ˜¯ä¸€ç§é¢å‘å—ï¼ŒåŸºäº
&lt;a href=&#34;https://zh.wikipedia.org/wiki/%e8%bf%90%e5%8a%a8%e8%a1%a5%e5%81%bf&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;è¿åŠ¨è¡¥å¿&lt;/a&gt;çš„
&lt;a href=&#34;https://zh.wikipedia.org/w/index.php?title=%e8%a7%86%e9%a2%91%e7%bc%96%e7%a0%81%e6%a0%87%e5%87%86&amp;amp;action=edit&amp;amp;redlink=1&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;è§†é¢‘ç¼–ç æ ‡å‡†&lt;/a&gt; ã€‚åˆ°2014å¹´ï¼Œå®ƒå·²ç»æˆä¸ºé«˜ç²¾åº¦è§†é¢‘å½•åˆ¶ã€å‹ç¼©å’Œå‘å¸ƒçš„æœ€å¸¸ç”¨æ ¼å¼ä¹‹ä¸€ã€‚ç¬¬ä¸€ç‰ˆæ ‡å‡†çš„æœ€ç»ˆè‰æ¡ˆäº2003å¹´5æœˆå®Œæˆã€‚&lt;/p&gt;
&lt;p&gt;â€”â€” WikiPedia 
&lt;a href=&#34;https://zh.wikipedia.org/wiki/H.264/MPEG-4_AVC&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;H.264&lt;/a&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;H.264æˆ‘ä»¬é¦–å…ˆéœ€è¦å…³æ³¨ä»–æ˜¯ä¸€ç§è§†é¢‘ç¼–ç ï¼Œä»–ä¼šå¯¹åŸå§‹è§†é¢‘åšå¤§é‡å‹ç¼©å¤„ç†æ¥å‡å°‘è§†é¢‘çš„ä½“ç§¯ï¼Œå…¶æ¬¡æ˜¯ä»–æœ‰ä¸‰ç§å¸§ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Iå¸§ï¼šå…³é”®å¸§ï¼Œé‡‡ç”¨å¸§å†…å‹ç¼©æŠ€æœ¯ã€‚&lt;/li&gt;
&lt;li&gt;På¸§ï¼šå‘å‰å‚è€ƒå¸§ï¼Œåœ¨å‹ç¼©æ—¶ï¼Œåªå‚è€ƒå‰é¢å·²ç»å¤„ç†çš„å¸§ã€‚é‡‡ç”¨å¸§éŸ³å‹ç¼©æŠ€æœ¯ã€‚&lt;/li&gt;
&lt;li&gt;Bå¸§ï¼šåŒå‘å‚è€ƒå¸§ï¼Œåœ¨å‹ç¼©æ—¶ï¼Œå®ƒå³å‚è€ƒå‰è€Œçš„å¸§ï¼Œåˆå‚è€ƒå®ƒåé¢çš„å¸§ã€‚é‡‡ç”¨å¸§é—´å‹ç¼©æŠ€æœ¯ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;ç¼ºå°‘æŸä¸€ I å¸§æ—¶ï¼Œç”»é¢ä¼šå˜å¾—éå¸¸è¯¡å¼‚ï¼Œå¤§å®¶åœ¨çœ‹D ç‰ˆç”µå½±æ—¶ä¹Ÿç»å¸¸ä¼šçœ‹åˆ°å„ç§çµå¼‚çš„ç°è±¡å°±æ˜¯ç¼ºå¸§å¯¼è‡´çš„ã€‚&lt;/p&gt;
&lt;h4 id=&#34;412-åª’ä½“å°è£…æ ¼å¼-mp4&#34;&gt;4.1.2 åª’ä½“å°è£…æ ¼å¼ MP4&lt;/h4&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;MP4&lt;/strong&gt;æˆ–ç§°**
&lt;a href=&#34;https://zh.wikipedia.org/wiki/MPEG-4&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;MPEG-4&lt;/a&gt;ç¬¬14éƒ¨åˆ†**ï¼ˆè‹±è¯­ï¼šMPEG-4 Part 14ï¼‰æ˜¯ä¸€ç§æ ‡å‡†çš„æ•°å­—
&lt;a href=&#34;https://zh.wikipedia.org/wiki/%e5%a4%9a%e5%aa%92%e9%ab%94&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;å¤šåª’ä½“&lt;/a&gt;å®¹å™¨æ ¼å¼ã€‚MPEG-4ç¬¬14éƒ¨åˆ†çš„æ‰©å±•åä¸º**.mp4**ï¼Œä»¥å­˜å‚¨
&lt;a href=&#34;https://zh.wikipedia.org/wiki/%e6%95%b8%e4%bd%8d%e9%9f%b3%e8%a8%8a&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;æ•°å­—éŸ³é¢‘&lt;/a&gt;åŠ
&lt;a href=&#34;https://zh.wikipedia.org/wiki/%e6%95%b8%e4%bd%8d%e5%bd%b1%e7%89%87&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;æ•°å­—è§†é¢‘&lt;/a&gt;ä¸ºä¸»ï¼Œä½†ä¹Ÿå¯ä»¥å­˜å‚¨
&lt;a href=&#34;https://zh.wikipedia.org/wiki/%e5%ad%97%e5%b9%95&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;å­—å¹•&lt;/a&gt;å’Œé™æ­¢å›¾åƒã€‚å› å…¶å¯å®¹çº³æ”¯æŒ
&lt;a href=&#34;https://zh.wikipedia.org/wiki/%e4%bd%8d%e5%85%83%e6%b5%81&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;æ¯”ç‰¹æµ&lt;/a&gt;çš„è§†é¢‘æµï¼ˆå¦‚
&lt;a href=&#34;https://zh.wikipedia.org/wiki/H.264/MPEG-4_AVC&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;é«˜çº§è§†é¢‘ç¼–ç &lt;/a&gt;ï¼‰ï¼ŒMP4å¯ä»¥åœ¨ç½‘ç»œä¼ è¾“æ—¶ä½¿ç”¨
&lt;a href=&#34;https://zh.wikipedia.org/wiki/%e4%b8%b2%e6%b5%81%e5%aa%92%e9%ab%94&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;æµå¼ä¼ è¾“&lt;/a&gt;ã€‚&lt;/p&gt;
&lt;p&gt;â€”â€” WikiPedia 
&lt;a href=&#34;https://zh.wikipedia.org/wiki/MP4&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;MP4&lt;/a&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;åœ¨ä¸Šè¿° WikiPedia çš„æè¿°ä¸­ï¼ŒMP4 æ˜¯ä¸€ç§å®¹å™¨ï¼Œä»–ä¼šåœ¨é‡Œé¢å­˜æ”¾éŸ³é¢‘ã€è§†é¢‘ã€å­—å¹•æˆ–å›¾åƒï¼Œéƒ½æ˜¯ä»¥é€šé“æ¥è¡¨ç¤ºä¸€è·¯åª’ä½“çš„ã€‚&lt;/p&gt;
&lt;h4 id=&#34;413-æµåª’ä½“åè®®-rtmp&#34;&gt;4.1.3 æµåª’ä½“åè®® RTMP&lt;/h4&gt;
&lt;p&gt;B ç«™é‡‡ç”¨ RTMP æ–¹å¼æ¨æµï¼Œè¿™æ˜¯ä¸€ç§åª’ä½“ä¼ è¾“åè®®ã€‚&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;å®æ—¶æ¶ˆæ¯åè®®&lt;/strong&gt;ï¼ˆè‹±è¯­ï¼šReal-Time Messaging Protocolï¼Œç¼©å†™&lt;strong&gt;RTMP&lt;/strong&gt;ï¼‰ä¹Ÿç§°&lt;strong&gt;å®æ—¶æ¶ˆæ¯ä¼ è¾“åè®®&lt;/strong&gt;ï¼Œæ˜¯æœ€åˆç”±
&lt;a href=&#34;https://zh.wikipedia.org/wiki/Macromedia&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;Macromedia&lt;/a&gt;ä¸ºé€šè¿‡
&lt;a href=&#34;https://zh.wikipedia.org/wiki/%e4%ba%92%e8%81%94%e7%bd%91&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;äº’è”ç½‘&lt;/a&gt;åœ¨
&lt;a href=&#34;https://zh.wikipedia.org/wiki/Adobe_Flash&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;Flashæ’­æ”¾å™¨&lt;/a&gt;ä¸ä¸€ä¸ª
&lt;a href=&#34;https://zh.wikipedia.org/wiki/%e6%9c%8d%e5%8a%a1%e5%99%a8&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;æœåŠ¡å™¨&lt;/a&gt;ä¹‹é—´ä¼ è¾“
&lt;a href=&#34;https://zh.wikipedia.org/wiki/%e6%b5%81%e5%aa%92%e4%bd%93&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;æµåª’ä½“&lt;/a&gt;
&lt;a href=&#34;https://zh.wikipedia.org/wiki/%e9%9f%b3%e9%a2%91&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;éŸ³é¢‘&lt;/a&gt;ã€
&lt;a href=&#34;https://zh.wikipedia.org/wiki/%e8%a7%86%e9%a2%91&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;è§†é¢‘&lt;/a&gt;å’Œæ•°æ®è€Œå¼€å‘çš„ä¸€ä¸ª
&lt;a href=&#34;https://zh.wikipedia.org/w/index.php?title=%e4%b8%93%e6%9c%89%e5%8d%8f%e8%ae%ae&amp;amp;action=edit&amp;amp;redlink=1&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;ä¸“æœ‰åè®®&lt;/a&gt;ã€‚Macromediaåè¢«
&lt;a href=&#34;https://zh.wikipedia.org/wiki/Adobe_Systems&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;Adobe Systems&lt;/a&gt;æ”¶è´­ï¼Œè¯¥åè®®ä¹Ÿå·²å‘å¸ƒäº†ä¸å®Œæ•´çš„è§„èŒƒä¾›å…¬ä¼—ä½¿ç”¨ã€‚&lt;/p&gt;
&lt;p&gt;RTMPåè®®æœ‰è®¸å¤šå˜ç§ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;é»˜è®¤ä½¿ç”¨TCPç«¯å£1935çš„çº¯ç²¹ï¼ˆplainï¼‰åè®®ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;RTMPS&lt;/strong&gt;ï¼Œé€šè¿‡ä¸€ä¸ª
&lt;a href=&#34;https://zh.wikipedia.org/%3ewiki/%e5%82%b3%e8%bc%b8%e5%b1%a4%e5%ae%89%e5%85%a8%e6%80%a7%e5%8d%94%e5%ae%9a&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;TLS/SSL&lt;/a&gt;è¿æ¥ä¼ è¾“RTMPã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;RTMPE&lt;/strong&gt;ï¼Œä½¿ç”¨Adobeè‡ªæœ‰å®‰å…¨æœºåˆ¶åŠ å¯†çš„RTMPã€‚è™½ç„¶å®ç°çš„ç»†èŠ‚ä¸ºä¸“&amp;gt;æœ‰ï¼Œä½†è¯¥æœºåˆ¶ä½¿ç”¨è¡Œä¸šæ ‡å‡†çš„
&lt;a href=&#34;https://zh.wikipedia.org/%3ewiki/%e5%af%86%e7%a0%81%e5%ad%a6&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;å¯†ç å­¦&lt;/a&gt;åŸå‡½æ•°ã€‚[
&lt;a href=&#34;https://zh.wikipedia.org/wiki/%e5%ae%9e%e6%97%b6%3e%e6%b6%88%e6%81%af%e5%8d%8f%e8%ae%ae#cite_note-RTMPE_overview-1&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;1]&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;RTMPT&lt;/strong&gt;ï¼Œç”¨
&lt;a href=&#34;https://zh.wikipedia.org/wiki/%e8%b6%85%e6%96%87%e6%9c%ac%3e%e4%bc%a0%e8%be%93%e5%8d%8f%e8%ae%ae&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;HTTP&lt;/a&gt;
&lt;a href=&#34;https://zh.wikipedia.org/wiki/%e5%b0%81%e8%a3%9d_%28%e7%b6%b2%e8%b7%af%29&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;å°è£…&lt;/a&gt;ä»¥ç©¿&amp;gt;é€é˜²ç«å¢™ã€‚RTMPTé€šå¸¸åœ¨
&lt;a href=&#34;https://zh.wikipedia.org/wiki/%e4%bc%a0%e8%be%93%3e%e6%8e%a7%e5%88%b6%e5%8d%8f%e8%ae%ae&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;TCP&lt;/a&gt;
&lt;a href=&#34;https://zh.wikipedia.org/wiki/%e9%80%9a%e8%a8%8a%e5%9f%a0&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;ç«¯å£&lt;/a&gt;80å’Œ443&amp;gt;ä¸Šä½¿ç”¨æ˜æ–‡è¯·æ±‚æ¥ç»•è¿‡å¤§å¤šæ•°çš„å…¬å¸æµé‡è¿‡æ»¤ã€‚å°è£…çš„ä¼šè¯ä¸­å¯èƒ½æºå¸¦çº¯ç²¹çš„&amp;gt;RTMPã€RTMPSæˆ–RTMPEæ•°æ®åŒ…ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;RTMFP&lt;/strong&gt;, ä½¿ç”¨
&lt;a href=&#34;https://zh.wikipedia.org/wiki/%e7%94%a8%e6%88%b7%3e%e6%95%b0%e6%8d%ae%e6%8a%a5%e5%8d%8f%e8%ae%ae&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;UDP&lt;/a&gt;è€ŒéTCPçš„RTMPï¼Œå–ä»£RTMP Chunk Streamã€‚Adobe Systems&amp;gt;å¼€å‘äº†å®‰å…¨çš„
&lt;a href=&#34;https://zh.wikipedia.org/w/index.%3ephp?title=%e5%ae%9e%e6%97%b6%e5%aa%92%e4%bd%93%e6%b5%81%e5%8d%8f%e8%ae%ae&amp;amp;action=edit&amp;amp;redlink=1&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;å®æ—¶åª’ä½“æµåè®®&lt;/a&gt;åŒ…ï¼Œå¯ä»¥è®©æœ€ç»ˆç”¨&amp;gt;æˆ·ç›´æ¥åœ°ç›¸äº’è¿æ¥ï¼ˆP2Pï¼‰ã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;è™½ç„¶RTMPçš„ä¸»è¦åŠ¨æœºæ˜¯æˆä¸ºä¸€ä¸ªæ’­æ”¾Flashè§†é¢‘çš„åè®®ï¼Œä½†å®ƒä¹Ÿç”¨äºå…¶ä»–ä¸€äº›åº”ç”¨ç¨‹åºï¼Œå¦‚
&lt;a href=&#34;https://zh.wikipedia.org/w/index.php?title=Adobe_LiveCycle_Data_Services_ES&amp;amp;action=edit&amp;amp;redlink=1&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;Adobe LiveCycle Data Services ES&lt;/a&gt;ã€‚&lt;/p&gt;
&lt;p&gt;â€”â€” WikiPedia 
&lt;a href=&#34;https://zh.wikipedia.org/wiki/%e5%ae%9e%e6%97%b6%e6%b6%88%e6%81%af%e5%8d%8f%e8%ae%ae&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;å®æ—¶æ¶ˆæ¯åè®®&lt;/a&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h4 id=&#34;414-ä»¥ä¸Šä¸‰è€…ä¹‹é—´çš„å…³ç³»&#34;&gt;4.1.4 ä»¥ä¸Šä¸‰è€…ä¹‹é—´çš„å…³ç³»&lt;/h4&gt;
&lt;p&gt;å½“æˆ‘ä»¬æœ‰ä¸€æ®µåŸå§‹è§†é¢‘æ—¶ï¼Œé¦–å…ˆæˆ‘ä»¬ä¼šå°†å…¶è½¬æˆ H.264ç¼–ç ï¼Œè¿™ä¼šå‡å°‘å¾ˆå¤šç©ºé—´ã€‚å…¶æ¬¡æˆ‘ä»¬ä¼šåŠ ä¸ŠéŸ³è½¨ï¼Œè¿™æ ·å°±ç»„æˆäº†æœ‰ä¸€ä¸ªè§†é¢‘é€šé“ï¼Œä¸€ä¸ªéŸ³é¢‘é€šé“çš„å¤šåª’ä½“ç»„åˆã€‚&lt;/p&gt;
&lt;p&gt;æˆ‘ä»¬å¯ä»¥çœ‹ä¸€ä¸‹åŸå§‹çš„ç”µå½±èƒ¶ç‰‡ï¼Œä»–åŒ…å«äº†å¤šæ¡è½¨é“ï¼Œæœæ¯”å·¦å³å£°é“åŠå…¶ä»–éŸ³è½¨å°±å’Œè§†é¢‘è½¨é“å¹¶åˆ—å­˜æ”¾ç€ï¼Œè¿™å’Œ MP4 ä¸­çš„å°è£…æ˜¯å·®ä¸å¤šçš„ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;B%E7%AB%99%E4%BA%91%E5%85%BB%E9%B1%BC--%E8%B4%AB%E7%A9%B7%E5%AE%9A%E5%88%B6.assets/th.jpeg&#34; alt=&#34;th&#34;&gt;&lt;/p&gt;
&lt;p&gt;å¯¹äºæµåª’ä½“ä¼ è¾“åè®®ï¼Œé‡Œé¢åŒ…å«çš„ä¹Ÿæ˜¯ H.264ç¼–ç ï¼Œå¯ä»¥å°†å…¶çœ‹æˆå°†å½±ç‰‡åˆ‡æˆä¸€æ®µæ®µå‘é€ã€‚&lt;/p&gt;
&lt;h3 id=&#34;42-ffmpeg&#34;&gt;4.2 ffmpeg&lt;/h3&gt;
&lt;blockquote&gt;
&lt;p&gt;A complete, cross-platform solution to record, convert and stream audio and video.&lt;/p&gt;
&lt;p&gt;â€”â€” 
&lt;a href=&#34;http://ffmpeg.org&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;FFmpeg&lt;/a&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;å®ƒæœ‰ä¸¤ç§ä½¿ç”¨æ–¹å¼ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;å‘½ä»¤è¡Œï¼šç›´æ¥è¿è¡Œ ffmpeg ç¨‹åºï¼Œå¹¶å°†å‘½ä»¤ä½œä¸ºè¿è¡Œå‚æ•°ä¼ å…¥å³å¯ï¼›&lt;/li&gt;
&lt;li&gt;åº“ï¼šé€šè¿‡åº“æ¥ä½¿ç”¨çµongn&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;æˆ‘ä»¬åœ¨è¿™ä¸ªé¡¹ç›®ä¸­ä¸»è¦é‡‡ç”¨å‘½ä»¤è¡Œæ¨¡å¼æ¥è°ƒç”¨ ffmpegï¼Œè¿™å¯¹ä¸€ä¸ªå°é¡¹ç›®è€Œè¨€éå¸¸å¿«é€Ÿã€‚&lt;/p&gt;
&lt;h2 id=&#34;5-åŠŸèƒ½è®¾è®¡&#34;&gt;5. åŠŸèƒ½è®¾è®¡&lt;/h2&gt;
&lt;h3 id=&#34;51-è§†é¢‘åˆ—è¡¨&#34;&gt;5.1 è§†é¢‘åˆ—è¡¨&lt;/h3&gt;
&lt;p&gt;å¯¹äº&lt;strong&gt;AreYouOK æ™ºèƒ½æ‘„åƒæœº&lt;/strong&gt;è¾“å‡ºåˆ° NAS ä¸Šçš„æ–‡ä»¶æ¥çœ‹ï¼Œä»–æ˜¯æœ‰è§„å¾‹çš„ï¼Œæ¯åˆ†é’Ÿä¿å­˜ä¸€æ¬¡ã€‚&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;âœ  xiaomi_camera_videos tree
.
â”œâ”€â”€ 04cf8cfe7133
â”‚Â Â  â”œâ”€â”€ 2020031908
â”‚Â Â  â”‚Â Â  â”œâ”€â”€ 16M12S_1584576972.mp4
â”‚Â Â  â”‚Â Â  â”œâ”€â”€ 17M10S_1584577030.mp4
â”‚Â Â  â”‚Â Â  â”œâ”€â”€ 18M10S_1584577090.mp4
â”‚Â Â  â”‚Â Â  â”œâ”€â”€ 19M10S_1584577150.mp4
â”‚Â Â  â”‚Â Â  â”œâ”€â”€ 20M10S_1584577210.mp4
â”‚Â Â  â”‚Â Â  â”œâ”€â”€ 21M10S_1584577270.mp4
â”‚Â Â  â”‚Â Â  â”œâ”€â”€ 22M10S_1584577330.mp4
...
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;ä»–çš„æ ¼å¼ä¸º&lt;code&gt;/{å¹´æœˆæ—¥æ—¶}/{åˆ†Mç§’S_æ—¶é—´æˆ³}.mp4&lt;/code&gt;ï¼Œæ ¹æ®æ–‡ä»¶åæˆ‘ä»¬å°±èƒ½æ‰¾åˆ°æ¯ä¸ªæ—¶åˆ»çš„è§†é¢‘äº†ã€‚æ–¹æ¡ˆå¤§è‡´æœ‰ä¸¤ç§ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;å¯»æ‰¾ä¸Šä¸€åˆ†é’Ÿçš„æ–‡ä»¶åï¼Œå¹¶è¿›è¡Œæ’­æ”¾ï¼›&lt;/li&gt;
&lt;li&gt;å¯»æ‰¾å‰å‡ åˆ†é’Ÿçš„æ–‡ä»¶åï¼Œç»„åˆåè¿›è¡Œæ’­æ”¾ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;ä¸¤ç§æ–¹å¼å„æœ‰åˆ©å¼Šï¼Œç¬¬ä¸€ä¸ªåœ¨è®¾å¤‡æ—¶é—´æ— æ³•åŒæ­¥æ—¶ä¼šé€ æˆæ‰¾ä¸åˆ°è§†é¢‘çš„ç°è±¡ï¼Œç¬¬äºŒç§æ–¹å¼ä¼šäº§ç”Ÿéå¸¸å¤§çš„å»¶æ—¶ã€‚&lt;/p&gt;
&lt;p&gt;ä½†å®é™…ä¸Šå¯¹äºç›´æ’­ç”¨æˆ·æ¥è¯´ï¼Œç›´æ’­ä¸»ä½“å¹¶ä¸ä¼šå’Œç”¨æˆ·è¿›è¡Œäº’åŠ¨ï¼Œå› æ­¤&lt;strong&gt;å»¶æ—¶&lt;/strong&gt;ä¸ä¼šé€ æˆå®è´¨çš„å½±å“ã€‚æœ€ç»ˆæˆ‘é‡‡ç”¨çš„æ˜¯ç¬¬äºŒç§æ–¹å¼ã€‚&lt;/p&gt;
&lt;p&gt;ç”Ÿæˆæ’­æ”¾åˆ—è¡¨å‡½æ•°å…¥å‚æœ‰ä¸¤ä¸ªï¼Œä¸€ä¸ªæ˜¯æŒç»­æ—¶é—´ï¼Œç¬¬äºŒä¸ªæ˜¯åˆ—è¡¨ç»“æŸæ—¶é—´ã€‚å‡½æ•°ä¸­é¦–å…ˆè¿‡æ»¤äº†æ–‡ä»¶å¤¹åï¼Œç„¶åé€šè¿‡æ–‡ä»¶åæœ«å°¾çš„æ—¶é—´æˆ³æ¯”å¯¹å‡ºéœ€è¦æ’­æ”¾çš„æ–‡ä»¶ï¼Œæ’åºåå†™å…¥æ’­æ”¾åˆ—è¡¨ä¸­ã€‚åŒæ—¶éœ€è¿”å›æ’­æ”¾ä¸ªæ•°ã€‚&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-python&#34;&gt;def make_video_list(during: int, endtime: datetime.datetime = datetime.datetime.now()):

    starttime = endtime - datetime.timedelta(minutes=during)

    print(&amp;quot;======Make Video List======&amp;quot;)

    print(&amp;quot;PlayList from {st} to {et}&amp;quot;.format(st=starttime, et=endtime))

    def dir_filter(dir: str) -&amp;gt; bool:
        try:
            dir_time = int(dir)  # strptime(dir, &amp;quot;%Y%m%d%H&amp;quot;)
            if dir_time &amp;gt;= int(starttime.strftime(&amp;quot;%Y%m%d%H&amp;quot;)) and dir_time &amp;lt;= int(
                endtime.strftime(&amp;quot;%Y%m%d%H&amp;quot;)
            ):
                return True
            else:
                return False
        except Exception as a:
            print(&amp;quot;make_video_list dir_filter Error &amp;quot;, a)
            return False

    # filter play list
    file_list = []
    for dir in filter(dir_filter, os.listdir(CAMERA_PATH)):
        for file in os.listdir(CAMERA_PATH + dir):
            time = datetime.datetime.fromtimestamp(int(file[-14:-4]))
            print(&amp;quot;File : &amp;quot;, dir, file, end=&amp;quot;&amp;quot;)
            if time &amp;gt;= starttime and time &amp;lt;= endtime:
                file_list.append(CAMERA_PATH + dir + &amp;quot;/&amp;quot; + file)
                print(&amp;quot; Will Play&amp;quot;)
            print(&amp;quot; &amp;quot;)


    # write video playlist
    with open(VIDEO_PLAYLIST, &amp;quot;w&amp;quot;) as f:
        f.writelines(
            map(
                lambda path: &amp;quot;file &#39;&amp;quot;
                + path.replace(&amp;quot;:&amp;quot;, &amp;quot;\\:&amp;quot;).replace(&amp;quot;&#39;&amp;quot;, &amp;quot;\\\\\\\\\\\\&#39;&amp;quot;)
                + &amp;quot;&#39;\n&amp;quot;,
                sorted(file_list),
            )
        )

    print(&amp;quot;======Make Video List End======&amp;quot;)

    return len(file_list)
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;52-éŸ³ä¹æ’­æ”¾åˆ—è¡¨&#34;&gt;5.2 éŸ³ä¹æ’­æ”¾åˆ—è¡¨&lt;/h3&gt;
&lt;p&gt;åˆæˆè§†é¢‘çš„åŒæ—¶æˆ‘ä»¬å¾—æŠŠå£°éŸ³ç»™åˆ äº†ï¼Œä¸ç„¶ç›´æ’­å‡ºå¥‡æ€ªçš„å£°éŸ³æ˜¯ä¼šè¢«å°å·çš„ï¼ï¼ï¼&lt;/p&gt;
&lt;p&gt;è¿™è¾¹é€šè¿‡å¯¹éŸ³ä¹æ–‡ä»¶å¤¹éšæœºæ’åºæ¥ç”Ÿæˆï¼Œè¿™ä¸ªæ—¶é—´å°†è¿œå¤§äºè§†é¢‘æ’­æ”¾çš„æ—¶é—´ï¼Œå› æ­¤æˆ‘ä»¬éœ€è¦æœ‰éŸ³ä¹çš„æ—¶é—´è®°å½•ï¼Œç¬¬äºŒæ®µè§†é¢‘æ’­æ”¾æ—¶éŸ³ä¹ä»ä¸Šæ¬¡æ’­æ”¾çš„ä½ç½®æ’è¿›å»ã€‚&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-python&#34;&gt;def make_music_list() -&amp;gt; int:
    global g_music_play_time
    if g_music_play_time &amp;gt; MUSIC_MAX_TIME:
        print(&amp;quot;Will Create New Audio PlayList&amp;quot;)
        
        g_music_play_time = 1

        # remake music play list
        music_list = list(
            filter(
                lambda file: file[-4:] == &amp;quot;.mp3&amp;quot;,
                map(lambda filename: MUSIC_PATH + filename, os.listdir(MUSIC_PATH)),
            )
        )
        random.shuffle(music_list)
        with open(AUDIO_PLAYLIST, &amp;quot;w&amp;quot;) as f:
            f.writelines(
                map(
                    lambda path: &amp;quot;file &#39;&amp;quot;
                    + path.replace(&amp;quot;:&amp;quot;, &amp;quot;\\:&amp;quot;).replace(&amp;quot;&#39;&amp;quot;, &amp;quot;\\\\\\\\\\\\&#39;&amp;quot;)
                    + &amp;quot;&#39;\n&amp;quot;,
                    music_list,
                )
            )

&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;è¿™è¾¹ç”±äºéŸ³ä¹æ˜¯ä»æˆ‘çš„æ’­æ”¾å™¨é‡Œæ‹·è´çš„ï¼Œé¢å¤–è¿‡æ»¤äº†æ–‡ä»¶ç±»å‹ï¼Œåªé‡‡ç”¨ mp3 æ–‡ä»¶ã€‚&lt;/p&gt;
&lt;p&gt;åŒæ ·å†™å…¥æ–‡ä»¶ä¸­ï¼Œæ­¤å¤„ç”±äºéŸ³ä¹åç§°çš„å¤æ‚æ€§ï¼Œé¢å¤–åšäº† escapeã€‚&lt;/p&gt;
&lt;h3 id=&#34;53-ffmpeg-å‘½ä»¤ç”Ÿæˆ&#34;&gt;5.3 ffmpeg å‘½ä»¤ç”Ÿæˆ&lt;/h3&gt;
&lt;p&gt;æœ‰äº†ä»¥ä¸Šä¸¤ä¸ªå‡½æ•°ï¼ŒåŸºæœ¬åŠŸèƒ½åŸºæœ¬å®Œæˆï¼Œå°±å·®æ¨æµäº†ã€‚&lt;/p&gt;
&lt;p&gt;æ¨æµé‡‡ç”¨ ffmpegï¼Œæ¯”è¾ƒå¤æ‚ï¼Œå…ˆä¸Šä»£ç å†æ…¢æ…¢è®²è§£ï¼š&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-python&#34;&gt;# ç”Ÿæˆå‘½ä»¤è¡Œ
ffinput = &#39;ffmpeg -y -re -loglevel warning -f concat -safe 0 -i &amp;quot;{VIDEO_PLAYLIST}&amp;quot; -ss {MUSIC_START_TIME} -f concat -safe 0 -i &amp;quot;{AUDIO_PLAYLIST}&amp;quot; -c copy -shortest &#39;.format(
            VIDEO_PLAYLIST=VIDEO_PLAYLIST,
            AUDIO_PLAYLIST=AUDIO_PLAYLIST,
            MUSIC_START_TIME=get_music_start_time(),
        )

ffoutput = &#39;-f flv &amp;quot;{RTMP_ADDR}&amp;quot;&#39;.format(RTMP_ADDR=RTMP_ADDR)

# ffoutput = &amp;quot;re.mp4&amp;quot;

cmd = ffinput + ffoutput
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;è¿™è¾¹é‡‡ç”¨äº†æ’­æ”¾åˆ—è¡¨ä½œä¸ºæºï¼Œæˆ‘ä»¬å¯ä»¥çœ‹&lt;code&gt;-f concat -safe 0 -i &amp;quot;{VIDEO_PLAYLIST}&amp;quot; &lt;/code&gt;ï¼Œ&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;em&gt;-f&lt;/em&gt;: fmt (input/output) å¼ºåˆ¶å®šä¹‰æ ¼å¼&lt;/li&gt;
&lt;li&gt;&lt;em&gt;concat&lt;/em&gt;ï¼š è¿æ¥ï¼Œä¸€ç§ demuxerï¼Œå°†æºè¿æ¥èµ·æ¥&lt;/li&gt;
&lt;li&gt;&lt;em&gt;-safe 0&lt;/em&gt;ï¼šconcat æ—¶ä¸åœ¨æ„æ–‡ä»¶å&lt;/li&gt;
&lt;li&gt;&lt;em&gt;-i&lt;/em&gt;ï¼šinput&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;æˆ‘ä»¬å°†æ’­æ”¾åˆ—è¡¨ä½œä¸º concat çš„è¾“å…¥ï¼Œæœ€å concat ä½œä¸ºä¸€ä¸ªå®Œæ•´è¾“å…¥å­˜åœ¨ã€‚&lt;/p&gt;
&lt;p&gt;éŸ³é¢‘è¾“å…¥ä¹ŸåŒæ ·ï¼Œè¿™è¾¹å¢åŠ äº†ä¸€ä¸ª &lt;code&gt;-ss&lt;/code&gt; æ˜¯seekåˆ°è¿™ä¸ªæ—¶é—´ä½œä¸ºå¼€å§‹çš„æ„æ€ï¼ŒéŸ³é¢‘æ’­æ”¾åˆ—è¡¨æ—¶é—´å¤ªé•¿äº†ï¼Œä¸ºäº†æ¯æ¬¡æ¨æµæ²¡æœ‰æ–­å±‚çš„æ„Ÿè§‰ï¼Œä¼šæ¯æ¬¡ç´¯è®¡æ’­æ”¾æ—¶é—´ï¼Œç„¶åé€šè¿‡&lt;code&gt;-ss&lt;/code&gt;æŒ‡å®šæ’­æ”¾ä½ç½®ã€‚&lt;code&gt;-ss&lt;/code&gt;æ˜¯éœ€è¦ç‰¹æ®Šæ ¼å¼çš„ï¼Œå› æ­¤æˆ‘ä»¬é€šè¿‡å‡½æ•°ç”Ÿæˆã€‚&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-python&#34;&gt;def get_music_start_time():
    global g_music_play_time

    return &amp;quot;{0:02}:{1:02}:{2:02}&amp;quot;.format(
        int(g_music_play_time // 3600),
        int((g_music_play_time % 3600) // 60),
        int(g_music_play_time % 60),
    )
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;æˆ‘ä»¬å†æ¥çœ‹çœ‹&lt;code&gt;ffinput&lt;/code&gt;æœ€å‰ä¸€æ®µå’Œæœ€åä¸€æ®µï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;-y : å¼ºåˆ¶è¦†ç›–å†™å…¥ outputï¼›&lt;/li&gt;
&lt;li&gt;-re : è¯»å–input æŒ‰å®é™…å¸§ç‡æ¥ï¼Œç›´æ’­éœ€è¦ç”¨æŒ‡ä»¤ï¼Œä¸ç„¶ä¼šä»¥æœ€å¿«é€Ÿåº¦å¤„ç†æ•°æ®ï¼›&lt;/li&gt;
&lt;li&gt;-loglevel warningï¼šæ—¥å¿—çº§åˆ«&lt;/li&gt;
&lt;li&gt;-c copyï¼šä¸å¤„ç†åª’ä½“ç¼–ç ï¼Œç›´æ¥ä» input æ‹·è´åˆ° outputï¼Œå‡å°‘ç¼–è§£ç çš„æ€§èƒ½éœ€æ±‚ï¼Œå½“ç„¶è¿™ä¸ªåŒæ—¶æˆ‘ä»¬æ²¡æ³•å¯¹è§†é¢‘è¿›è¡Œå¤„ç†ã€‚&lt;/li&gt;
&lt;li&gt;-shortest: è¾“å‡ºæ—¶é•¿æŒ‰æœ€çŸ­çš„è½¨é“æ¥ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;ffmpeg åœ¨è½¨é“é‡å¤æ—¶ï¼ˆä¾‹å¦‚è§†é¢‘éŸ³è½¨å’ŒéŸ³ä¹ï¼‰ï¼Œä¼šè‡ªåŠ¨é‡‡ç”¨åè¾“å…¥çš„è½¨é“ã€‚å¦‚æœéœ€è¦è‡ªå®šä¹‰å°±éœ€è¦åœ¨æŒ‡ä»¤ä¸Šè¿›è¡Œæ ‡ç¤ºäº†ã€‚&lt;/p&gt;
&lt;p&gt;æ¥ä¸‹æ¥æˆ‘ä»¬çœ‹çœ‹&lt;code&gt;ffoutput&lt;/code&gt;, éå¸¸ç®€å• &lt;code&gt;-f flv &amp;quot;{RTMP_ADDR}&amp;quot;&lt;/code&gt; åˆ¶å®šäº†è¾“å‡ºæ ¼å¼ä¸º flvï¼Œå¹¶ç»™äº†ç›¸åº”çš„ rtmp åœ°å€ã€‚&lt;/p&gt;
&lt;h3 id=&#34;54-æ‰§è¡Œ-ffmpeg-å‘½ä»¤&#34;&gt;5.4 æ‰§è¡Œ ffmpeg å‘½ä»¤&lt;/h3&gt;
&lt;p&gt;ffmpeg æ˜¯ç³»ç»ŸäºŒè¿›åˆ¶ç¨‹åºï¼Œå› æ­¤æˆ‘ä»¬éœ€è¦åœ¨ç³»ç»Ÿä¸Šè°ƒç”¨å®ƒï¼Œé€šè¿‡ Popenåœ¨shell ç¯å¢ƒä¸‹è¿è¡Œè¿™æ¡å‘½ä»¤å³å¯ï¼ŒåŒæ—¶ç­‰å¾…ç»“æŸï¼Œå¹¶æ¥æ”¶è¾“å…¥è¾“å‡ºã€‚&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-python&#34;&gt;# è¿è¡Œ
cmd_proc = subprocess.Popen(
            cmd,
            shell=True,
            stdin=subprocess.PIPE,
            stdout=subprocess.PIPE,
            stderr=subprocess.PIPE,
        )

 cmd_proc.wait()

 outs, errs = cmd_proc.communicate(timeout=1)
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;åˆ°è¿™è¾¹ä¸€æ¬¡å‡ åˆ†é’Ÿçš„æ¨æµå°±å®Œæˆäº†ï¼Œæˆ‘ä»¬å¾ªç¯è¿™ä¸ªåŠ¨ä½œå°±èƒ½æŒç»­ä¸æ–­çš„å°†æ–°å½•åˆ¶çš„è§†é¢‘æ¨å‡ºå»ã€‚&lt;/p&gt;
&lt;h3 id=&#34;55-åŠå¤œå›æ”¾æœºåˆ¶&#34;&gt;5.5 åŠå¤œå›æ”¾æœºåˆ¶&lt;/h3&gt;
&lt;p&gt;é™¤äº†ç™½å¤©é±¼ç¼¸å¼€ç¯æœŸé—´çš„ç›´æ’­ï¼Œæˆ‘è¿˜æœŸæœ›åœ¨æœªå¼€ç¯çš„æ—¶å€™ä¹Ÿè¿›è¡Œç›´æ’­ã€‚å½“ç„¶æˆ‘ä¼šå…³é—­æ‘„åƒå¤´ï¼Œé˜²æ­¢åœ¨é±¼ç¼¸èƒŒæ™¯è¾ƒäº®çš„æƒ…å†µä¸‹å‡ºç°å¥‡æ€ªçš„åå…‰ï¼Œå½“ç„¶ï¼ŒåŠå¤œæ‘„åƒå¤´æ ¹æœ¬çœ‹ä¸åˆ°ä»€ä¹ˆï¼Œå¤œæ™šæ‘„åƒå¤´çº¢å¤–ä¼šè¢«é±¼ç¼¸ç»ç’ƒåå…‰å½¢æˆå¼ºçƒˆçš„å…‰æ–‘ï¼Œæ— æ³•è§‚èµã€‚&lt;/p&gt;
&lt;p&gt;æˆ‘ä»¬éœ€è¦åœ¨æ°´è‰ç¯æœªå·¥ä½œæœŸé—´è¿›è¡Œç›´æ’­å°±åªèƒ½é‡‡ç”¨å›æ”¾äº†ï¼Œå¦å¤–ç”±äºè¿‡å¹´æœŸé—´æˆ‘ä¸ªäººçš„ä½œæ¯ä¸å®šï¼Œåªèƒ½é€šè¿‡è½¯ä»¶è‡ªåŠ¨æ£€æµ‹æ˜¯å¦å·¥ä½œäº†ã€‚&lt;/p&gt;
&lt;p&gt;è¿™è¾¹çš„æœºåˆ¶éå¸¸ç®€å•ï¼Œå½“ç”Ÿæˆè§†é¢‘æ’­æ”¾åˆ—è¡¨è¿”å› 0 æ—¶å°±å¯ä»¥è¿›è¡Œå›æ”¾äº†ã€‚æ­¤æ—¶æˆ‘ä»¬å°†æ—¶é—´å›é€€åˆ° 8~20 ç‚¹ä¹‹é—´ï¼Œéšæœºä¸€ä¸ªæ—¶é—´æ®µï¼Œ&lt;code&gt;æ’­æ”¾æ—¶é—´=å½“å‰æ—¶é—´-ï¼ˆå½“å‰å°æ—¶-éšæœºå°æ—¶æ•°ï¼‰&lt;/code&gt; ï¼Œé‡‡ç”¨è¿™ä¸ªå…¬å¼ï¼Œå½“å¤©å…³é—­æ‘„åƒå¤´åå¯ä»¥æ’­æ”¾æŒ‡å®šæ—¶é—´æ®µéšæœºçš„æ—¶é—´ç‚¹ï¼Œä½†æˆ‘ä»¬ä¼šå‘ç°è¶…è¿‡åŠå¤œåäºŒç‚¹åå˜ä¸ºäº†&lt;code&gt; 1 ç‚¹-16 ç‚¹&lt;/code&gt; è¿™æ ·è¯¡å¼‚çš„æ—¶é—´ï¼Œåè€Œå˜ä¸ºäº†æ’­æ”¾æœªæ¥åäº”ä¸ªå°æ—¶åçš„è§†é¢‘ã€‚å› æ­¤æˆ‘ä»¬éœ€è¦åˆ¤æ–­ä¸€æ—¦è¿‡äº†åŠå¤œï¼Œç›¸å‡çš„å°æ—¶æ•°å°±è¦å¤šåŠ  24hã€‚&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-python&#34;&gt;tmp_endtime = play_endtime - datetime.timedelta(
                    hours=(
                        play_endtime.hour
                        - random.randint(*CAMERA_WORKTIME)
                        + (24 if play_endtime.hour &amp;lt; 12 else 0)
                    )
                )
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;è¿™æ ·å°±èƒ½24H è¿›è¡Œæ’­æ”¾äº†ï¼Œæ¯æ¬¡æ’­æ”¾ä¸€å°æ—¶çš„è§†é¢‘ï¼ˆçœ‹ä¹‹å‰çš„å‡½æ•°ï¼Œå¯ä»¥ä¼ å…¥æ—¶é•¿ï¼‰ã€‚&lt;/p&gt;
&lt;p&gt;ä½†å¦‚æœéšæœº 20 æ¬¡è¿˜æ²¡è§†é¢‘çš„è¯ï¼Œå°±ä¼šç›´æ¥æ’­æ”¾å½“å‰æ—¶é—´å‰ 24H æ‰€æœ‰è§†é¢‘äº†ã€‚è¿˜æ˜¯æ²¡æœ‰è§†é¢‘å°± sleep ä¸€å°æ—¶ï¼Œå½“ç„¶åˆ°äº†è¿™åœ°æ­¥ B ç«™æ—©å°±è‡ªåŠ¨å…³åœç›´æ’­å®¤äº†ã€‚&lt;/p&gt;
&lt;h3 id=&#34;56-ç›´æ’­é€€å‡ºæœºåˆ¶&#34;&gt;5.6 ç›´æ’­é€€å‡ºæœºåˆ¶&lt;/h3&gt;
&lt;p&gt;åœ¨å®é™…è°ƒè¯•è¿‡ç¨‹ä¸­ä¼šå‘ç°å¾ˆæ¼ç«çš„ä¸€ç‚¹æ˜¯ Ctrl+C å®Œå…¨æ²¡æœ‰ååº”ã€‚ç”±äºå±•ç¤ºåœ¨ shell ä¸Šçš„æ˜¯ ffmpeg è¿›ç¨‹ï¼ŒCtrl+Cåªä¼šé€€å‡º ffmpegï¼Œè€Œä¸ä¼šé€€å‡º python è„šæœ¬ï¼Œæ­¤æ—¶ä»–ä¼šåœ¨äººç±»æ— æ³•åæ˜ çš„æ—¶é—´å†…é‡å¯ ffmpegã€‚é™¤äº†å…³é—­ Shellï¼Œæ²¡ä»€ä¹ˆæ›´å¿«æ·çš„åŠæ³•äº†ã€‚&lt;/p&gt;
&lt;p&gt;å¦å¤–åœ¨ kill æ—¶ä¹Ÿä¼šæœ‰éœ€è¦å…ˆ kill è„šæœ¬ï¼Œå† kill ffmpegã€‚&lt;/p&gt;
&lt;p&gt;åé¢å¾ˆæ— å¥ˆï¼Œåªèƒ½åšä¸€ä¸ªç›´æ’­é€€å‡ºæœºåˆ¶äº†ã€‚å°†ä¹‹å‰ç®€å•çš„  &lt;code&gt;os.System&lt;/code&gt; å‡½æ•°æ›¿æ¢ä¸ºäº†ç°åœ¨å¯æ§çš„&lt;code&gt;subprocess.Popen&lt;/code&gt; å¹¶å¢åŠ äº†ä¿¡å·æ•è·ã€‚&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-python&#34;&gt;def stop(signal, stack):
    # TODO: æ­¤å¤„å¿…ç„¶æœ‰æ—¶åºé—®é¢˜ï¼Œæš‚ä¸å¤„ç†
    nonlocal run
    run = False
    cmd_proc.kill()

signal.signal(signal.SIGTERM, stop)
signal.signal(signal.SIGINT, stop)
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;æ”¶åˆ°ä¿¡å·ï¼Œæš‚åœå¾ªç¯ï¼Œå¹¶æ€æ­» ffmpegã€‚&lt;/p&gt;
&lt;h3 id=&#34;57-æ·±å¤œç›´æ’­æš‚åœäº‹ä»¶&#34;&gt;5.7 æ·±å¤œç›´æ’­æš‚åœäº‹ä»¶&lt;/h3&gt;
&lt;p&gt;è¿‡å¹´æ—¶æ¯å¤©èµ·æ¥ä¼šå‘ç°æˆ‘çš„ç›´æ’­åœäº†ã€‚å½“ç„¶æˆ‘ä¹Ÿæ‡’å¾—çœ‹æ—¥å¿—ï¼Œå› ä¸ºè¿™ä»¶äº‹å¤ªè¿·äº†ï¼Œçœ‹æ—¥å¿—ä¹Ÿå¾—ç¿»å¥½ä¹…ã€‚&lt;/p&gt;
&lt;p&gt;åŒä¸Šï¼Œåé¢å¾ˆæ— å¥ˆï¼Œè¿˜æ˜¯æ…¢æ…¢ç¿»äº†æ—¥å¿—ã€‚å‘ç° ffmpeg åœ¨æ–­ç½‘åä¼šå¡æ­»å¾ˆé•¿ä¸€æ®µæ—¶é—´ï¼Œéœ€è¦äºŒåå¤šåˆ†é’Ÿæ‰ä¼šé€€å‡ºã€‚è¿™ä¸ªæ—¶é—´è¶³å¤Ÿ B ç«™æŠŠæˆ‘è¸¢ä¸‹çº¿äº†ã€‚è€Œæ–­ç½‘çš„åŸå› æ˜¯æˆ‘åœ¨è·¯ç”±å™¨ä¸Šè®¾å®šäº†æ¯å¤©åŠå¤œæ¸…ç†ç¼“å­˜ã€‚ï¼ˆè¿™ç«Ÿç„¶ä¼šæ–­ç½‘ï¼Œè¾£é¸¡ tplinkã€‚ï¼‰&lt;/p&gt;
&lt;p&gt;ç„¶åå°±æ–°å¢äº†ä¸€ä¸ªè¿›ç¨‹ï¼Œç”¨äºæ£€æµ‹ç½‘ç»œæ˜¯å¦æ­£å¸¸ï¼Œè¿™ä¸ªè¿›ç¨‹æ˜¯æ¯äº”ç§’æ‰§è¡Œç³»ç»Ÿå‘½ä»¤ ping ä¸€æ¬¡114ï¼Œè®°å½•flagï¼Œå¹¶åœ¨æ¢å¤æ—¶ killä¸€æ¬¡ffmpegã€‚&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-python&#34;&gt;def ping():
    nonlocal run
    global cmd_proc

    pre_state = True

    while run:
        state = True

        outs = subprocess.Popen(
            &amp;quot;ping -c 1 -w 1 114.114.114.114&amp;quot;,
            shell=True,
            stdin=subprocess.PIPE,
            stdout=subprocess.PIPE,
            stderr=subprocess.PIPE,
            encoding=&amp;quot;utf8&amp;quot;,
        ).stdout.readlines()
        state = 0 == outs[-1].find(&#39;rtt&#39;)

        if not state:
            print(&amp;quot;Net broken!&amp;quot;)

        if False == pre_state and True == state:
            print(&amp;quot;Net resumed, kill cmd&amp;quot;)
            if None != cmd_proc:
                print(&amp;quot;Net resumed, kill cmdï¼ï¼&amp;quot;)
                cmd_proc.kill()

        pre_state = state

        sys.stdout.flush()
        time.sleep(5)

multiprocessing.Value
ping_subproc = multiprocessing.Process(target=ping)
ping_subproc.start()
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;è‡³äºä¸ºä»€ä¹ˆä¸Šé¢å†™çš„æ˜¯è¿›ç¨‹&amp;hellip;é‚£æ˜¯ python è§£é‡Šå™¨çš„é—®é¢˜ï¼Œç”±äºGIL ï¼ˆå…¨å±€è§£é‡Šå™¨é”ï¼‰çš„å­˜åœ¨ï¼Œå¤šçº¿ç¨‹å¤„ç†æ—¶éå¸¸ä½æ•ˆï¼Œå¼€äº†å¤šçº¿ç¨‹ä¹Ÿå’Œæ²¡å¼€ä¸€æ ·ï¼Œç”šè‡³æ›´æ…¢ã€‚&lt;/p&gt;
&lt;h3 id=&#34;6-å­˜åœ¨çš„é—®é¢˜&#34;&gt;6. å­˜åœ¨çš„é—®é¢˜&lt;/h3&gt;
&lt;h4 id=&#34;61-æ‘„åƒæœºéƒ¨ç½²é—®é¢˜&#34;&gt;6.1 æ‘„åƒæœºéƒ¨ç½²é—®é¢˜&lt;/h4&gt;
&lt;p&gt;æ‘„åƒæœºæ‹œè®¿å­˜åœ¨å¾ˆå¤§é—®é¢˜ï¼Œä¼šé®æŒ¡è§†çº¿ã€‚å¹¶ä¸”ä½œä¸ºç›‘æ§æ‘„åƒå¤´æ¥æ‹æ‘„é±¼ç¼¸æ˜¯éå¸¸ç³Ÿç³•çš„ï¼Œé¦–å…ˆå®ƒå­˜åœ¨éå¸¸å¤§çš„é•œå¤´ç•¸å˜ï¼Œåœ¨è¿‘è·ç¦»éå¸¸æ˜æ˜¾ï¼Œå…¶æ¬¡å¹¿è§’é•œå¤´åœ¨æ‹æ‘„è¿‘è·ç¦»ç‰©ä½“æ—¶éš¾ä»¥å¯¹ç„¦ï¼Œå¯¼è‡´ç”»é¢è¾ƒä¸ºæ¨¡ç³Šã€‚&lt;/p&gt;
&lt;h4 id=&#34;62-æ—¶é—´æˆ³é—®é¢˜&#34;&gt;6.2 æ—¶é—´æˆ³é—®é¢˜&lt;/h4&gt;
&lt;p&gt;æ¨æµçš„ RTMP åè®®ä¸­ä¼šå¢åŠ ç›¸å¯¹æ—¶é—´æˆ³ï¼Œæ­¤æ—¶å‡ åˆ†é’Ÿçš„è§†é¢‘æ’­æ”¾å®Œæ¯•é‡å¯ ffmpeg æ’­æ”¾ä¸‹ä¸€æ®µæ—¶ä¼šé‡æ–°ç”Ÿæˆæ—¶é—´æˆ³ï¼Œå¯¼è‡´ç”¨æˆ·æ¥æ”¶åˆ°çš„æ•°æ®æ—¶é—´æˆ³çªå˜ï¼Œå®¹æ˜“å¯¼è‡´æ’­æ”¾é—®é¢˜ã€‚&lt;/p&gt;
&lt;p&gt;åœ¨Bilibili App ä¸Šå¾ˆå°‘å­˜åœ¨æ–­æµçš„é—®é¢˜ï¼Œä½†åœ¨Safari ä¸Šå¾ˆå®¹æ˜“æ–­æµã€‚&lt;/p&gt;
&lt;p&gt;å½“ç„¶åº”è¯¥æ˜¯å¯ä»¥é€šè¿‡ ffmpeg çš„æ—¶é—´æˆ³æ¥è§£å†³çš„ï¼Œä¸è¿‡æ˜¯ä¸€ä¸ªå·¨å¤§çš„å‘ã€‚ä¹Ÿå¯ä»¥é€šè¿‡å¢åŠ å»¶è¿Ÿï¼Œæ’­æ”¾å‰ä¸€ä¸ªå°æ—¶çš„è§†é¢‘è§„é¿è¿™ä¸ªé—®é¢˜ã€‚&lt;/p&gt;
&lt;h4 id=&#34;63-è§†é¢‘é‡å¤é—®é¢˜&#34;&gt;6.3 è§†é¢‘é‡å¤é—®é¢˜&lt;/h4&gt;
&lt;p&gt;è§†é¢‘é‡å¤åœ¨åˆšå¼€å§‹ç›´æ’­æ—¶ä¼šå®¹æ˜“å‡ºç°ï¼Œä¸€å¼€å§‹è§†é¢‘ä¸è¶³ 10 åˆ†é’Ÿï¼Œä¼šå–å‰å‡ åˆ†é’Ÿçš„ï¼Œæ’­æ”¾å®Œåä¼šé‡æ–°è·å–ï¼Œæ­¤æ—¶ä¹‹å‰å‡ åˆ†é’Ÿçš„ä¾ç„¶ä¼šè¢«è·å–åˆ°ï¼Œé‡æ–°æ’­æ”¾ã€‚&lt;/p&gt;
&lt;h2 id=&#34;7-å¯æ›¿ä»£æ–¹æ¡ˆ&#34;&gt;7. å¯æ›¿ä»£æ–¹æ¡ˆ&lt;/h2&gt;
&lt;p&gt;å†™äº†è¿™æ®µä»£ç çš„ä¸»è¦åŸå› åœ¨äº&lt;strong&gt;AreYouOK æ™ºèƒ½æ‘„åƒæœº&lt;/strong&gt;ä¸æ”¯æŒ RTSPï¼Œä¸€æ—¦ RTSP é—®é¢˜è§£å†³ï¼Œä»£ç å°±æ²¡æœ‰äº†å­˜åœ¨æ„ä¹‰ã€‚æ›¿ä»£æ–¹æ¡ˆè¿˜æ˜¯å¾ˆå¤šçš„&lt;/p&gt;
&lt;p&gt;7.1 PC+USB æ‘„åƒå¤´&lt;/p&gt;
&lt;p&gt;è´­ä¹°ä¸€å°å†¥ç‹å³¡è°·+ç½—æŠ€æ‘„åƒå¤´å³å¯è§£å†³éšè”½æ€§å’Œä»¥ä¸Šæ‰€æœ‰é—®é¢˜ã€‚å¼ºå¤§çš„ CPU è¿˜èƒ½æ”¯æŒè§†é¢‘ç¼–è§£ç ï¼Œç›´æ¥ä½¿ç”¨ OBS ç©æ›´å¤šç›´æ’­å†…å®¹ã€‚é¢„è®¡æˆæœ¬ 10000.&lt;/p&gt;
&lt;h3 id=&#34;72-ç½‘ç»œæ‘„åƒå¤´æ”¯æŒ-rtsp&#34;&gt;7.2 ç½‘ç»œæ‘„åƒå¤´æ”¯æŒ RTSP&lt;/h3&gt;
&lt;p&gt;æœ‰ä¸€ä¸ªæ”¯æŒ RTSP çš„ç½‘ç»œæ‘„åƒå¤´ï¼Œå¯ä»¥å°† python è„šæœ¬ç®€åŒ–ä¸º shell è„šæœ¬ä¸€é”®è¿è¡Œã€‚&lt;/p&gt;
&lt;h3 id=&#34;73-æ‰‹æœº&#34;&gt;7.3 æ‰‹æœº&lt;/h3&gt;
&lt;p&gt;ä¹°ä¸€ä¸ªäºŒæ‰‹æ‰‹æœº Bilibili App è¿›è¡Œç›´æ’­ï¼Œé¢„è®¡è´¹ç”¨ 300~500ã€‚æœ€æ–¹ä¾¿çš„åŠæ³•ï¼Œä½†æ‰©å±•æ€§ä¸é«˜ã€‚&lt;/p&gt;
&lt;h2 id=&#34;8-å…³é”®å†³å®šå› ç´ &#34;&gt;8. å…³é”®å†³å®šå› ç´ &lt;/h2&gt;
&lt;p&gt;&lt;em&gt;&lt;strong&gt;å†…å®¹é«˜äºæŠ€æœ¯&lt;/strong&gt;&lt;/em&gt;ã€‚æ— è®ºæ˜¯è„šæœ¬ã€æ‘„åƒå¤´è¿˜æ˜¯æ•´å¥—æ–¹æ¡ˆï¼Œæœ€ç»ˆéƒ½æ˜¯ä¸ºå†…å®¹æœåŠ¡çš„ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;B%E7%AB%99%E4%BA%91%E5%85%BB%E9%B1%BC--%E8%B4%AB%E7%A9%B7%E5%AE%9A%E5%88%B6.assets/IMG_3777.jpg&#34; alt=&#34;IMG_3777&#34;&gt;&lt;/p&gt;
&lt;section class=&#34;footnotes&#34; role=&#34;doc-endnotes&#34;&gt;
&lt;hr&gt;
&lt;ol&gt;
&lt;li id=&#34;fn:1&#34; role=&#34;doc-endnote&#34;&gt;
&lt;p&gt;&lt;a href=&#34;http://www.pmi.com&#34;&gt;www.pmi.com&lt;/a&gt; &lt;a href=&#34;#fnref:1&#34; class=&#34;footnote-backref&#34; role=&#34;doc-backlink&#34;&gt;&amp;#x21a9;&amp;#xfe0e;&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li id=&#34;fn:2&#34; role=&#34;doc-endnote&#34;&gt;
&lt;p&gt;&lt;a href=&#34;https://obsproject.com&#34;&gt;https://obsproject.com&lt;/a&gt; &lt;a href=&#34;#fnref:2&#34; class=&#34;footnote-backref&#34; role=&#34;doc-backlink&#34;&gt;&amp;#x21a9;&amp;#xfe0e;&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/section&gt;
</description>
    </item>
    
  </channel>
</rss>
